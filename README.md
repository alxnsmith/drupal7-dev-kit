# Drupal 7 dev kit

Сборка для работы и управления проектами на drupal 7 с использованием Docker Compose

Клонируем себе этот репозиторий, после чего доступны следующие команды:

## startproject

Использование: `bash manage.py startproject [имя проекта]`\
После создания директории и всех файлов окружения проекта - спросит ссылку на гит репозиторий и ветку, чтобы сразу склонировать его в директорию git\
*Ссылка на гит должна быть вида* `git@github.com:alxnsmith/drupal7-dev-kit.git`
- Если пропустить ссылку - оставить директорию пустой
- Если пропустить ветку - по дефолту пробует клонировать ветку master

#### Структура директорий проекта и их назначение:
- `config` - Тут хранятся все конфиги, монтируемые в контейнеры
- `drupal-data` - Сюда распаковываем бекап проекта
- `db-data` - Сюда кладем бекап базы данных для импорта в базу данных
- `backup` - Тут храним все рабочие бекапы по проекту
- `git` - Тут чистый гит репозиторий, части над которыми работаем из него монтируем в проект в `/var/www/html/` (`drupal-data`)\
Моём кейсе в бекапах есть не структурированный мусор, под который постоянно править .gitignore не очень удобно.\
По этому концепт таков: за базу брать бекап, а части, над которыми ведется работа - монтировать поверх бекапа. При этом бекап остается не тронутым.\
По умолчанию это - директория модулей `./git/sites/all`
